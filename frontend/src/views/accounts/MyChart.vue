<template>
  <v-container>
    <v-row class="d-flex justify-content-center">
      <h2 class="my-5" style="font-family: HangeulNuri-Bold">
        ğŸ‘¨â€ğŸ’»{{ this.name }}ë‹˜ì˜ ë…ì„œ ì„±í–¥
      </h2>
    </v-row>
    <v-row>
      <v-col lg="6" md="12" sm="12">
        <h4 style="font-family: HangeulNuri-Bold; text-align: center">
          ğŸ’¡{{ name }}ë‹˜ì˜ ì„ í˜¸ ì¥ë¥´
        </h4>
        <h6 class="main-font text-center">ë…ì„œê¸°ë¡ ë° ì±… ì¢‹ì•„ìš” ê¸°ë°˜</h6>
        <mdb-radar-chart
          :data="radarChartData"
          :options="radarChartOptions"
          :width="600"
          :height="300"
          style="font-family: HangeulNuri-Bold"
        ></mdb-radar-chart>
        <v-divider></v-divider>
        <p class="main-font text-center">ì„ í˜¸ì¥ë¥´ Best 5</p>
        <v-list nav dense>
          <v-list-item-group
            color="primary"
            style="font-family: HangeulNuri-Bold"
          >
            <v-list-item v-for="(data, idx) in info.slice(0, 5)" :key="idx">
              <v-list-item-content>
                <v-list-item-title style="text-align: center"
                  >{{ idx + 1 }}ìœ„</v-list-item-title
                >
              </v-list-item-content>
              <v-list-item-content>
                <v-list-item-title
                  >{{ data[0] }}({{ data[1] }})</v-list-item-title
                >
              </v-list-item-content>
            </v-list-item>
          </v-list-item-group>
        </v-list>
      </v-col>
      <v-col
        lg="6"
        md="12"
        sm="12"
        class="d-flex flex-column justify-content-start"
      >
        <h4 style="font-family: HangeulNuri-Bold" class="text-center">
          ğŸ“ˆ{{ name }}ë‹˜ì˜ ë…ì„œ ê·¸ë˜í”„
        </h4>
        <h6 class="main-font text-center">ë…ì„œê¸°ë¡ ë° ë¦¬ë·°ì‘ì„± ê¸°ë°˜</h6>
        <mdb-line-chart
          :data="lineChartData"
          :options="lineChartOptions"
          :width="600"
          :height="300"
        ></mdb-line-chart>
        <v-divider></v-divider>
        <p class="main-font text-center mb-5">{{ name }}ë‹˜ì˜ ë…ì„œ ê³„ì ˆì€?</p>
        <v-list nav dense>
          <h5 class="main-font text-center my-5">{{ comment }}</h5>
          <v-row no-gutters>
            <v-col md="6" offset-md="3">
              <v-divider></v-divider>
            </v-col>
          </v-row>
          <h6 class="main-font my-5 text-center">
            {{ name }}ë‹˜ì€ {{ month }}ì›” "{{ season }}"ì— ê°€ì¥ ë§ì€ ë…ì„œë¥¼ í•˜ê³ 
            ìˆìŠµë‹ˆë‹¤.
          </h6>
        </v-list>
      </v-col>
    </v-row>
  </v-container>
</template>

<script>
import { mdbRadarChart, mdbLineChart } from "mdbvue";
export default {
  name: "MyChart",
  components: { mdbRadarChart, mdbLineChart },
  data() {
    return {
      comment: "ê°€ì„ì€ ì—­ì‹œ ë…ì„œì˜ ê³„ì ˆ!!!",
      season: "ê°€ì„",
      month: null,
      lineChartData: {
        labels: [
          "1ì›”",
          "2ì›”",
          "3ì›”",
          "4ì›”",
          "5ì›”",
          "6ì›”",
          "7ì›”",
          "8ì›”",
          "9ì›”",
          "10ì›”",
          "11ì›”",
          "12ì›”",
        ],
        datasets: [
          {
            label: "2020",
            backgroundColor: "rgba(255, 99, 132, 0.1)",
            borderColor: "rgba(255, 99, 132, 1)",
            borderWidth: 0.7,
            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
          },
        ],
      },
      lineChartOptions: {
        responsive: false,
        maintainAspectRatio: false,
        scales: {
          xAxes: [
            {
              gridLines: {
                display: true,
                color: "rgba(0, 0, 0, 0.1)",
              },
            },
          ],
          yAxes: [
            {
              gridLines: {
                display: true,
                color: "rgba(0, 0, 0, 0.1)",
              },
            },
          ],
        },
      },
      radarChartData: {
        labels: [
          "ì² í•™",
          "ì¢…êµ",
          "ì‚¬íšŒê³¼í•™",
          "ìˆœìˆ˜ê³¼í•™",
          "ê¸°ìˆ ê³¼í•™",
          "ì˜ˆìˆ ",
          "ì–¸ì–´",
          "ë¬¸í•™",
          "ì—­ì‚¬",
        ],
        datasets: [
          {
            label: "ë…ì„œê¸°ë¡ + ì±… ì¢‹ì•„ìš”",
            backgroundColor: "rgba(255, 99, 132, 0.1)",
            borderColor: "rgba(255, 99, 132, 1)",
            borderWidth: 0.7,
            data: [0, 0, 0, 0, 0, 0, 0, 0, 0],
          },
        ],
      },
      radarChartOptions: {
        responsive: false,
        maintainAspectRatio: false,
      },
    };
  },
  props: {
    radar: {
      type: Array,
    },
    line: {
      type: Array,
    },
    info: {
      type: Array,
    },
    name: {
      type: String,
    },
  },
  created() {
    this.radarChartData.datasets[0].data = this.radar;
    this.lineChartData.datasets[0].data = this.line;
    this.month = this.line.indexOf(Math.max(...this.line)) + 1;
    if (this.month > 12) {
      this.month = 1;
    }
    if (this.month < 3 || this.month == 12) {
      this.season = "ê²¨ìš¸";
      this.comment = "ê²¨ìš¸ì—” ë”°ëœ»í•œ ì§‘ì•ˆì—ì„œ ë…ì„œë¥¼!!!"
    } else if (this.month < 6) {
      this.season = "ë´„";
      this.comment = "ë´„ì—” ì•„ë¦„ë‹¤ìš´ ê½ƒê³¼ í•¨ê»˜ ë…ì„œë¥¼!!!"
    } else if (this.month < 9) {
      this.season = "ì—¬ë¦„";
      this.comment = "ì—¬ë¦„ì—” ì—ì–´ì»¨ ë°”ëŒì•„ë˜ì—ì„œ ë…ì„œë¥¼!!!"
    }
  },
};
</script>

<style scoped>
.main-font {
  font-family: "HangeulNuri-Bold";
}
</style>